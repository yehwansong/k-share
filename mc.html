<!DOCTYPE html>
<head>
<link rel="stylesheet" href="common.css">
<meta charset="utf-8">
<meta 
     name='viewport' 
     content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' 
/>
    <script
    src="https://code.jquery.com/jquery-3.4.1.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous"></script>
    <script type="text/javascript" src="script.js"></script>
    <script type="text/javascript">

//ouput : b1, b2
// input : a
$(document).ready(function(){

    // input
    if(a){
        $('#img').css({'opacity':0})
    }else{
        $('#img').css({'opacity':1})
    }



    // output
    var b1, b2
    var lastY
    var currentY
    var moveamountY
    var lastX
    var currentX
    var moveamountX

    var resultY = 0
    var resultX = 0

    var counter = 0
    var touching = false
    var speedX = 0
    var speedY = 0
    var startX = 0
    var startY = 0
    var unit = 3
    var init_result = 0
// $('#img').css({'background-size':100/unit+'% auto'})
    var h = window.innerHeight
    var w = window.innerWidth
    $('#img').css({'height':unit*w*3 })
    $('#img').css({'top':-2*unit*w + w})
// 15*w

    // 텀이적으
        document.addEventListener('touchmove', function(e) {
            e.preventDefault();
        }, { passive: false });

    $('body').on('touchstart', function(e) {
                speedX = (currentX - startX)/counter
                speedY = (currentY - startY)/counter
                counter = 0;
                if(e.originalEvent.touches.length == 0){
                    touching = false
                }
                touching = true
                console.log(resultY)

            startY =  e.originalEvent.touches[e.originalEvent.touches.length-1].clientY;
            startX =  e.originalEvent.touches[e.originalEvent.touches.length-1].clientX;
        })
    $('body').on('touchmove', function(e) {
            counter++
            currentY = e.originalEvent.touches[e.originalEvent.touches.length-1].clientY;
            currentX = e.originalEvent.touches[e.originalEvent.touches.length-1].clientX;
            resultY = init_result + (speedY*counter)
            c1 = resultY
            c2 = speedY

            lastY = currentY;
            lastX = currentX;
            $('#img').css({'margin-top': b1%(unit*w) + 'px'})
    })
    $('body').on('touchend', function(e) {
                init_result = resultY
                $('#img').append('<div class="footprint"  style="transform: translate(-50%, -50%); left:'+(lastX - parseInt($('#img').css('marginLeft')) + w)+'px; top:'+( -1*parseInt($('#img').css('top'))-1*parseInt($('#img').css('marginTop'))+lastY) +'px;"></div>')
    })
})
    </script>
<style>
    #img{
        background-image: url('img.jpeg');
        position: relative;
    }
</style>
</head>
<body>
    <div id="img"></div>
</body>
